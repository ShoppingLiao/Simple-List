{"version":3,"sources":["Components/App/Styled.js","global-styles.js","Components/Main/Styled.js","Components/Table/Styled.js","Components/Table/index.js","Components/Table/Table.js","Components/AddUserModal/Styled.js","Components/AddUserModal/AddUserModal.js","Components/AddUserModal/index.js","Components/Main/Main.js","Components/Main/index.js","Components/App/App.js","Components/App/index.js","serviceWorker.js","index.js"],"names":["Wrapper","styled","div","Header","header","ButtonStyle","HeaderItem","AddUserBtn","button","Table","HeadTr","BodyTr","Th","props","flex","Td","align","DeleteBtn","useContext","ContextStore","data","filterKey","_handleDeleteItem","map","id","name","email","indexOf","key","onClick","isShow","Content","Body","Item","Input","input","hasWrong","CancelBtn","Addbtn","ErrMsg","MAIL_REGEXP","AddUserModal","showModal","_handleCloseModal","_handleAddUser","useState","nameForAdd","setNameForAdd","nameErrMsg","setNameErrMsg","mailForAdd","setMailForAdd","mailErrMsg","setMailErrMsg","handleClose","handleCheckName","trim","length","handleCheckMail","test","useEffect","e","stopPropagation","type","placeholder","value","onChange","target","onBlur","createContext","SORT_KEYS","Main","setData","idForAdd","setIdForAdd","setShowModal","setFilterKey","sortKey","setSortKey","a","axios","get","res","status","fetchData","Provider","newData","targetIdx","findIndex","item","splice","console","log","push","sort","b","localeCompare","handleSortKeyChange","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.8b925908.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div``;\r\n\r\nexport const Header = styled.header`\r\n  background-color: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1rem;\r\n  margin: 0.2rem 0;\r\n  color: #666;\r\n  text-align: center;\r\n`;\r\n","export const ButtonStyle = `\r\n  cursor: pointer;\r\n  height: 1rem;\r\n  line-height: 1rem;\r\n  padding: 0 0.2rem;\r\n  margin: 0 0.2rem;\r\n  transition: background 0.2s ease-in-out;\r\n  font-size: 0.6rem;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default {};\r\n","import styled from 'styled-components';\r\nimport { ButtonStyle } from '../../global-styles';\r\n\r\nexport const Wrapper = styled.div`\r\n  border: 1px solid #ddd;\r\n  font-size: 0.5rem;\r\n  margin: 0.5rem 1rem;\r\n  padding: 1rem;\r\n  @media (max-width: 1024px) {\r\n    margin: 0 auto;\r\n    padding: 0.2rem;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  margin: 0.5rem 0;\r\n  justify-content: space-between;\r\n  label {\r\n    margin-right: 0.2rem;\r\n  }\r\n  input,\r\n  select {\r\n    height: 1rem;\r\n    line-height: 1rem;\r\n  }\r\n`;\r\n\r\nexport const HeaderItem = styled.div`\r\n  margin: 0.2rem 0;\r\n`;\r\n\r\nexport const AddUserBtn = styled.button`\r\n  ${ButtonStyle};\r\n  background: #0066ff;\r\n  color: #fff;\r\n  &:active {\r\n    background: #0052cc;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\nimport { ButtonStyle } from '../../global-styles';\r\n\r\nexport const Wrapper = styled.div`\r\n  font-size: 0.5rem;\r\n`;\r\n\r\nexport const Table = styled.div`\r\n  margin: 0 auto;\r\n  user-select: none;\r\n  cursor: inherit;\r\n`;\r\n\r\nexport const HeadTr = styled.div`\r\n  background: #ddd;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.2rem 0;\r\n  text-align: center;\r\n`;\r\n\r\nexport const BodyTr = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  transition: background 0.15s ease-in-out;\r\n  padding: 0.2rem 0;\r\n  border-bottom: 1px solid #ddd;\r\n  background: #f2f2f2;\r\n  &:nth-child(even) {\r\n    background: #f5f5f5;\r\n  }\r\n  &:hover {\r\n    background: #ccffff;\r\n  }\r\n`;\r\n\r\nexport const Th = styled.div`\r\n  flex: ${(props) => props.flex || '1'};\r\n  min-width: 1rem;\r\n`;\r\n\r\nexport const Td = styled.div`\r\n  flex: ${(props) => props.flex || '1'};\r\n  text-align: ${(props) => props.align || 'center'};\r\n  min-width: 1rem;\r\n  word-break: break-all;\r\n`;\r\n\r\nexport const DeleteBtn = styled.button`\r\n  ${ButtonStyle};\r\n  background: #ff0000;\r\n  color: #fff;\r\n  overflow: hidden;\r\n  &:active {\r\n    background: #cc0000;\r\n  }\r\n`;\r\n","import Table from './Table';\r\n\r\nexport default Table;\r\n","import React, { useContext } from 'react';\r\nimport { Wrapper, Table, Th, HeadTr, BodyTr, Td, DeleteBtn } from './Styled';\r\nimport { ContextStore } from '../Main/Main';\r\n\r\nexport default function TableComponent() {\r\n  const { data, filterKey, _handleDeleteItem } = useContext(ContextStore);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Table>\r\n        <HeadTr>\r\n          <Th>ID</Th>\r\n          <Th flex='3'>Name</Th>\r\n          <Th flex='3'>Email</Th>\r\n          <Th />\r\n        </HeadTr>\r\n        {data.map(({ id, name, email }) => {\r\n          if (name.indexOf(filterKey) < 0) {\r\n            return null;\r\n          }\r\n          return (\r\n            <BodyTr key={`user_${id}`}>\r\n              <Td>{id}</Td>\r\n              <Td align='left' flex='3'>\r\n                {name}\r\n              </Td>\r\n              <Td align='left' flex='3'>\r\n                {email}\r\n              </Td>\r\n              <Td>\r\n                <DeleteBtn onClick={() => _handleDeleteItem(id)}>\r\n                  Delete\r\n                </DeleteBtn>\r\n              </Td>\r\n            </BodyTr>\r\n          );\r\n        })}\r\n      </Table>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { ButtonStyle } from '../../global-styles';\r\n\r\nexport const Wrapper = styled.div`\r\n  opacity: ${(props) => (props.isShow ? '1' : '0')};\r\n  z-index: ${(props) => (props.isShow ? '1' : '-1')};\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  transition: all 0.2s ease-in-out;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  margin: 10% auto;\r\n  width: 10rem;\r\n  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  background: #ddd;\r\n  font-size: 0.8rem;\r\n  padding: 0.2rem 0.4rem;\r\n  border-radius: 16px 16px 0 0;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 0.5rem;\r\n  align-items: center;\r\n  height: 6rem;\r\n  background: #f2f2f2;\r\n  border-radius: 0 0 16px 16px;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  margin: 0.2rem 0;\r\n  padding: 0.2rem 0;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  label {\r\n    flex: 1;\r\n    text-align: right;\r\n    padding-right: 0.2rem;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  transition: border-color 0.2s ease-in-out;\r\n  ${(props) => props.hasWrong && `border-color: #ff0000`};\r\n`;\r\n\r\nexport const CancelBtn = styled.button`\r\n  ${ButtonStyle}\r\n  width: 2.5rem;\r\n  background: #ddd;\r\n  color: #666;\r\n  &:active {\r\n    background: #bbb;\r\n  }\r\n`;\r\n\r\nexport const Addbtn = styled.button`\r\n  ${ButtonStyle}\r\n  width: 2.5rem;\r\n  background: #0066ff;\r\n  color: #fff;\r\n  &:active {\r\n    background: #0052cc;\r\n  }\r\n`;\r\n\r\nexport const ErrMsg = styled.div`\r\n  position: absolute;\r\n  bottom: -0.3rem;\r\n  left: 1.7rem;\r\n  color: #ff0000;\r\n  height: 0.5rem;\r\n  line-height: 0.5rem;\r\n`;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport {\r\n  Wrapper,\r\n  Content,\r\n  Header,\r\n  Body,\r\n  Item,\r\n  Input,\r\n  CancelBtn,\r\n  Addbtn,\r\n  ErrMsg,\r\n} from './Styled';\r\nimport { ContextStore } from '../Main/Main';\r\n\r\nconst MAIL_REGEXP = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/;\r\n\r\nexport default function AddUserModal() {\r\n  const { showModal, _handleCloseModal, _handleAddUser } = useContext(\r\n    ContextStore\r\n  );\r\n  const [nameForAdd, setNameForAdd] = useState('');\r\n  const [nameErrMsg, setNameErrMsg] = useState();\r\n  const [mailForAdd, setMailForAdd] = useState('');\r\n  const [mailErrMsg, setMailErrMsg] = useState();\r\n\r\n  useEffect(() => {\r\n    // 每次打開的時候都是空資料\r\n    if (showModal) {\r\n      resetValues();\r\n    }\r\n  }, [showModal]);\r\n\r\n  function handleClose() {\r\n    _handleCloseModal();\r\n  }\r\n\r\n  function handleNameChange(value) {\r\n    setNameForAdd(value);\r\n  }\r\n  function handleMailChange(value) {\r\n    setMailForAdd(value);\r\n  }\r\n\r\n  function handleCheckName() {\r\n    if (nameForAdd.trim().length === 0) {\r\n      setNameErrMsg('Please enter user name!');\r\n      return;\r\n    }\r\n\r\n    setNameErrMsg();\r\n  }\r\n\r\n  function handleCheckMail() {\r\n    if (mailForAdd.trim().length === 0) {\r\n      setMailErrMsg('Please enter e-mail!');\r\n      return;\r\n    }\r\n\r\n    if (!MAIL_REGEXP.test(mailForAdd)) {\r\n      setMailErrMsg('Incorrect email format!');\r\n      return;\r\n    }\r\n    setMailErrMsg();\r\n  }\r\n\r\n  function handleAdd() {\r\n    handleCheckName();\r\n    handleCheckMail();\r\n    if (nameForAdd === '' || mailForAdd === '' || nameErrMsg || mailErrMsg) {\r\n      return;\r\n    }\r\n\r\n    _handleAddUser(nameForAdd, mailForAdd);\r\n    _handleCloseModal();\r\n  }\r\n\r\n  function resetValues() {\r\n    setNameForAdd('');\r\n    setMailForAdd('');\r\n    setNameErrMsg();\r\n    setMailErrMsg();\r\n  }\r\n\r\n  return (\r\n    <Wrapper isShow={showModal} onClick={handleClose}>\r\n      <Content\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}\r\n      >\r\n        <Header>Add User</Header>\r\n        <Body>\r\n          <Item>\r\n            <label>Name:</label>\r\n            <Input\r\n              type='text'\r\n              placeholder='New user'\r\n              hasWrong={!!nameErrMsg}\r\n              value={nameForAdd}\r\n              onChange={(e) => handleNameChange(e.target.value)}\r\n              onBlur={handleCheckName}\r\n            />\r\n            <ErrMsg>{nameErrMsg}</ErrMsg>\r\n          </Item>\r\n          <Item>\r\n            <label>Email:</label>\r\n            <Input\r\n              type='text'\r\n              placeholder='new_user@gmail.com'\r\n              hasWrong={!!mailErrMsg}\r\n              value={mailForAdd}\r\n              onChange={(e) => handleMailChange(e.target.value)}\r\n              onBlur={handleCheckMail}\r\n            />\r\n            <ErrMsg>{mailErrMsg}</ErrMsg>\r\n          </Item>\r\n          <Item>\r\n            <CancelBtn onClick={handleClose}>Cancel</CancelBtn>\r\n            <Addbtn onClick={handleAdd}>Add</Addbtn>\r\n          </Item>\r\n        </Body>\r\n      </Content>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import AddUserModal from './AddUserModal';\r\n\r\nexport default AddUserModal;\r\n","import React, { useState, useEffect, createContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Wrapper, Header, AddUserBtn, HeaderItem } from './Styled';\r\nimport Table from '../Table';\r\nimport AddUserModal from '../AddUserModal';\r\n\r\nexport const ContextStore = createContext();\r\n\r\nconst SORT_KEYS = {\r\n  ASC_ID: 'asc_id',\r\n  DESC_ID: 'desc_id',\r\n  ASC_NAME: 'asc_name',\r\n};\r\n\r\nexport default function Main() {\r\n  const [data, setData] = useState();\r\n  const [idForAdd, setIdForAdd] = useState();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [filterKey, setFilterKey] = useState('');\r\n  const [sortKey, setSortKey] = useState(SORT_KEYS.ASC_ID);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  async function fetchData() {\r\n    const res = await axios.get('https://jsonplaceholder.typicode.com/users');\r\n    if (res && res.status === 200) {\r\n      setData(res.data);\r\n\r\n      setIdForAdd(res.data[res.data.length - 1].id + 1);\r\n    }\r\n  }\r\n\r\n  function handleDeleteItem(id) {\r\n    const newData = [...data];\r\n    const targetIdx = newData.findIndex((item) => item.id === id);\r\n    newData.splice(targetIdx, 1);\r\n    setData(newData);\r\n  }\r\n\r\n  function handleOpenModal() {\r\n    setShowModal(true);\r\n  }\r\n\r\n  function handleCloseModal() {\r\n    setShowModal(false);\r\n  }\r\n\r\n  function handleAddUser(name, email) {\r\n    console.log('name', name, 'mail', email);\r\n\r\n    const newData = [...data];\r\n    newData.push({ id: idForAdd, name, email });\r\n\r\n    setData(newData);\r\n    setIdForAdd(idForAdd + 1);\r\n  }\r\n\r\n  function handleFilterKeyChange(value) {\r\n    setFilterKey(value);\r\n  }\r\n\r\n  function handleSortKeyChange(key) {\r\n    let newData = [...data];\r\n\r\n    switch (key) {\r\n      case SORT_KEYS.ASC_ID: {\r\n        newData = newData.sort((a, b) => a.id - b.id);\r\n        break;\r\n      }\r\n      case SORT_KEYS.DESC_ID: {\r\n        newData = newData.sort((a, b) => b.id - a.id);\r\n        break;\r\n      }\r\n      case SORT_KEYS.ASC_NAME: {\r\n        // https://stackoverflow.com/questions/51165/how-to-sort-strings-in-javascript\r\n        newData = newData.sort((a, b) => ('' + a.name).localeCompare(b.name));\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setSortKey(key);\r\n    setData(newData);\r\n  }\r\n\r\n  if (!data) {\r\n    return <Wrapper>Loading...</Wrapper>;\r\n  }\r\n\r\n  return (\r\n    <ContextStore.Provider\r\n      value={{\r\n        data,\r\n        showModal,\r\n        filterKey,\r\n        _handleDeleteItem: handleDeleteItem,\r\n        _handleCloseModal: handleCloseModal,\r\n        _handleAddUser: handleAddUser,\r\n      }}\r\n    >\r\n      <Wrapper>\r\n        <Header>\r\n          <HeaderItem>\r\n            <label>Filter by:</label>\r\n            <input\r\n              type='text'\r\n              placeholder='Name'\r\n              value={filterKey}\r\n              onChange={(e) => handleFilterKeyChange(e.target.value)}\r\n            />\r\n          </HeaderItem>\r\n          <HeaderItem>\r\n            <label>Sort by:</label>\r\n            <select\r\n              value={sortKey}\r\n              onChange={(e) => handleSortKeyChange(e.target.value)}\r\n            >\r\n              <option value={SORT_KEYS.ASC_ID}>ID (ascending order)</option>\r\n              <option value={SORT_KEYS.DESC_ID}>ID (descending order)</option>\r\n              <option value={SORT_KEYS.ASC_NAME}>Name (a - z)</option>\r\n            </select>\r\n          </HeaderItem>\r\n          <HeaderItem>\r\n            <AddUserBtn onClick={handleOpenModal}>addUser</AddUserBtn>\r\n          </HeaderItem>\r\n        </Header>\r\n        <Table />\r\n        <AddUserModal />\r\n      </Wrapper>\r\n    </ContextStore.Provider>\r\n  );\r\n}\r\n","import Main from './Main';\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport { Wrapper, Header } from './Styled';\nimport Main from '../Main';\n\nfunction App() {\n  return (\n    <Wrapper>\n      <Header>Shopping Liao's Simple List</Header>\n      <Main />\n    </Wrapper>\n  );\n}\n\nexport default App;\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./Components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}